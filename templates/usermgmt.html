<!DOCTYPE html>
<html class="h-full">

<head>
  <title>StudentSpace</title>
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600&display=swap"
    rel="stylesheet" />
</head>
<body class=" h-full flex items-center justify-center">
  <div class="flex-row padding-bottom-8 ">
    <div class="welcome-admin text-4xl font-bold">Welcome Admin</div>
  <div class="tenor-gif-embed bg-gray-100 p-8" data-postid="14047122" data-share-method="host" data-aspect-ratio="2" data-width="800px"><a href="https://tenor.com/view/meme-%E0%B4%B2%E0%B4%BF%E0%B4%B5%E0%B4%BF-kerala-comedy-3d-gif-14047122">Meme ലിവി GIF</a>from <a href="https://tenor.com/search/meme-gifs">Meme GIFs</a></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
  </div>
  <div class="StudentSpace bg-white rounded-lg shadow-lg p-8">
    <div class="main-section">
      <div id="popup" class="popup hidden">
        <form class="userform">
          <label for="text" class="block">Editing for {{username}}</label>
          <br><br>
          <label for="username" class="block">Username:</label>
          <input type="text" id="username" name="username" class="block w-full border border-gray-300 rounded-md p-2" />
          <br><br>
          <label for="password" class="block">Password:</label>
          <input type="password" id="password" name="password" class="block w-full border border-gray-300 rounded-md p-2" />
          <br><br>
          <label for="role" class="block">User Type:</label>
          <select id="role" name="role" class="block w-full border border-gray-300 rounded-md p-2">
            <option value="admin">Admin</option>
            <option value="faculty">Faculty</option>
            <option value="student">Student</option>
          </select>

          <div class="button-container mt-4">
            <button type="button" id="cancelButton" class="bg-red-500 text-white px-4 py-2 rounded-md mr-2">Cancel</button>
            <button type="button" id="okButton" class="bg-green-500 text-white px-4 py-2 rounded-md">OK</button>
          </div>
        </form>
      </div>
      
      <div class="main">
        <table class="w-full">
          <thead>
            <tr>
              <th class="border px-4 py-2">ID</th>
              <th class="border px-4 py-2">Username</th>
              <th class="border px-4 py-2">Password</th>
              <th class="border px-4 py-2">User Type</th>
              <th class="border px-4 py-2"></th>
            </tr>
          </thead>
          <tbody id="userTableBody">
            {% for user in users_data %}
            <tr>
              <td class="border px-4 py-2">{{ user[0] }}</td>
              <td class="border px-4 py-2">{{ user[1] }}</td>
              <td class="border px-4 py-2">{{ user[2] }}</td>
              <td class="border px-4 py-2">{{ user[3] }}</td>
              <td class="border px-4 py-2">
                <a href="#" class="edit-link">
                  <img class="w-6" src="{{ editimage }}" alt="Edit Icon" />
                </a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var popup = document.getElementById("popup");
      var editLinks = document.querySelectorAll(".edit-link");
      var cancelButton = document.getElementById("cancelButton");
      var okButton = document.getElementById("okButton");
      var mainSection = document.querySelector(".main");
      var userForm = document.querySelector(".userform"); // Select the form

      editLinks.forEach(function (editLink) {
        editLink.addEventListener("click", function (event) {
          event.preventDefault();
          popup.classList.remove("hidden");
          mainSection.classList.add("popup-active");
        });
      });

      function closePopup() {
        popup.classList.add("hidden");
        mainSection.classList.remove("popup-active");
      }

      cancelButton.addEventListener("click", closePopup);
      okButton.addEventListener("click", closePopup);
    });
  </script>
</body>

</html>